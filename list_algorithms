/***
 * List algorithms for enhacing List objects
 * 
 * Author: Rodrigo E. Principe
 * email: fitoprincipe82@gmail.com
 * License: MIT
 */

var help = {};

var remove_duplicates = function(list) {
  var newlist = ee.List([]);
  var wrap = function(element, init) {
    init = ee.List(init);
    var contained = init.contains(element);
    
    return ee.Algorithms.If(contained, init, init.add(element));
  };
  return ee.List(list.iterate(wrap, newlist));
};

var get_from_dict = function(list, dict) {
  var empty = ee.List([]);
  var values = ee.List(list.iterate(function(el, first) {
    var f = ee.List(first)
    var cond = dict.contains(el);
    return ee.Algorithms.If(cond, f.add(dict.get(el)), f)
  }, empty))
  return values
}

help['remove_duplicates'] = 'Remove duplicated values from a list object'
help['get_from_dict'] = "Get a list of Dict's values from a list object."+
                        "\nArgs:\n  list: list of keys\n  dict: dict to get the values for list's keys"

exports.help = help
exports.remove_duplicates = remove_duplicates
exports.get_from_dict = get_from_dict